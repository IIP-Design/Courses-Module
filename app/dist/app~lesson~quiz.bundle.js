(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{11:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(n,r){if(!n.hasOwnProperty(e)||!r.hasOwnProperty(e))return 0;var o="string"==typeof n[e]?n[e].toUpperCase():n[e],i="string"==typeof r[e]?r[e].toUpperCase():r[e],a=0;return o>i?a=1:o<i&&(a=-1),"desc"==t?-1*a:a}},o=function(e,t){var n=e.length;return 0!==n&&e[n-1].id===t.id||e.push(t),e},i=function(e,t){return[].concat.apply([],e.map(function(e){return e[t]}))}},21:function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=function(e){return e.error?o.a.createElement("div",null,"Error!"):e.timedOut?o.a.createElement("div",null,"Taking a long time..."):e.pastDelay?o.a.createElement("div",null,"Loading..."):null}},25:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i});var r=function(){try{var e=sessionStorage.getItem("courses_state_1483731319800");if(null===e)return;return JSON.parse(e)}catch(e){return}},o=function(e){try{var t=JSON.stringify(e);sessionStorage.setItem("courses_state_1483731319800",t)}catch(e){}},i=function(e){try{sessionStorage.clear()}catch(e){}}},42:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(9),a=n(1),s=n.n(a),u=n(11),c=n(3),l=(s.a.array,function(e){var t=e.lessons,n=e.language.quizLessons,r=t.map(function(e){var t=e.slug,n=e.title;return o.a.createElement("li",{key:t},o.a.createElement(c.Link,{to:"lesson/"+t},n))});return o.a.createElement("div",null,o.a.createElement("h3",{className:"quiz-lessons"},n,":"),o.a.createElement("ul",{className:"quiz-lessons-list"},r))});l.propTypes={};var f=l,p=n(7);var d=n(26),m=n.n(d),h=n(21),g=n(49),y=n.n(g),b=(s.a.array,s.a.func,s.a.number,s.a.object,s.a.string,function(e){var t=e.choiceId,n=e.questionId,r=e.checked,i=e.handleChange,a=e.choice;return o.a.createElement("li",null,o.a.createElement("label",{htmlFor:t},o.a.createElement("input",{id:t,name:n,type:"radio",checked:r,onChange:i}),a.text))});b.propTypes={};var v=b,w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();s.a.array,s.a.func,s.a.object,s.a.string;var E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getAnswer=n.getAnswer.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),q(t,[{key:"getAnswer",value:function(e){var t=this;return e.filter(function(e){return e.choiceId===t.props.choiceId})[0]}},{key:"render",value:function(){var e=this.props,t=this.getAnswer(e.userAnswers)||{};return o.a.createElement(v,w({checked:"choiceId"in t?t.choiceId:""},e))}}]),t}();E.propTypes={};var z=Object(i.connect)(function(e){return{userAnswers:e.quiz.userAnswers}},function(e){return{handleChange:function(t){var n=t.target.id,r=document.getElementById(n).name;e(function(e,t,n){return n?{type:p.c,payload:new Error,status:"error"}:e&&t?{type:p.c,payload:{userAnswers:[{choiceId:t,questionId:e}]},status:"success"}:void 0}(r,n))}}})(E),k=(s.a.number,s.a.array,s.a.string,function(e){var t=e.choices,n=e.questionId,r=t.map(function(e){var t=e.id;return o.a.createElement(z,{key:t,choiceId:t,questionId:n,choice:e})});return o.a.createElement("ul",null,r)});k.propTypes={};var A=k,O=(s.a.string,s.a.number,s.a.bool,s.a.array,function(e){var t=e.questionId,n=e.choices;return o.a.createElement("li",{className:"quiz-question"},o.a.createElement("div",{id:t,className:"quiz-question-text",dangerouslySetInnerHTML:function(e){return{__html:e.text}}(e)}),o.a.createElement(A,{className:"quiz-choices",questionId:t,choices:n}))});O.propTypes={};var j=O,_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();s.a.array;var N=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderQuestion=n.renderQuestion.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),_(t,[{key:"shouldComponentUpdate",value:function(e){return!1}},{key:"renderQuestion",value:function(e){var t=e.choices,n=e.id,r=e.text;return o.a.createElement(j,{key:y.a.generate(),questionId:n,text:r,choices:t})}},{key:"render",value:function(){var e=this.props.questions.map(this.renderQuestion);return o.a.createElement("ol",{id:"questionList",className:"quiz-questions"},e)}}]),t}();N.propTypes={};var C=N,I=(s.a.string,function(e){return o.a.createElement("input",{type:"submit",value:e.value})});I.propTypes={};var S=I,T=n(25),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();s.a.array,s.a.func,s.a.number,s.a.string,s.a.object;var M=m()({loader:function(){return n.e(1).then(n.bind(null,134))},modules:["Quiz/components/Modal"],webpack:function(){return[134]},loading:h.a}),P=m()({loader:function(){return n.e(0).then(function(){var e=n(133);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})},modules:["react-notification/dist/notification"],webpack:function(){return[133]},loading:h.a}),Q=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.maxAttempts=5,n.state={isNotificationActive:!1,numIncorrect:0,attemptsClassname:"quiz-hide quiz-attempts",incorrectClassname:"quiz-hide quiz-incorrect",isModalOpen:!1},n.toggleNotification=n.toggleNotification.bind(n),n.updateStatusNotification=n.updateStatusNotification.bind(n),n.isAllAnswered=n.isAllAnswered.bind(n),n.showCorrectIndicator=n.showCorrectIndicator.bind(n),n.generateLink=n.generateLink.bind(n),n.generateExitLink=n.generateExitLink.bind(n),n.goToCertificateScreen=n.goToCertificateScreen.bind(n),n.isCorrectFilter=n.isCorrectFilter.bind(n),n.getCorrectAnswers=n.getCorrectAnswers.bind(n),n.scoreQuiz=n.scoreQuiz.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.toggleModal=n.toggleModal.bind(n),n.closeModal=n.closeModal.bind(n),n.handleNotification=n.handleNotification.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),x(t,[{key:"toggleNotification",value:function(){this.setState({isNotificationActive:!this.state.isNotificationActive})}},{key:"updateStatusNotification",value:function(){this.setState({attemptsClassname:"quiz-show quiz-attempts",incorrectClassname:"quiz-show quiz-incorrect"})}},{key:"isAllAnswered",value:function(){var e=this.props,t=e.userAnswers,n=e.questions;return Object.keys(t).length===n.length}},{key:"showCorrectIndicator",value:function(e,t){var n=document.getElementById(e);n.classList.remove("incorrect"),n.classList.remove("correct"),n.classList.add(t)}},{key:"generateLink",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=encodeURIComponent,r=void 0,o=void 0;return t&&(r=Object.keys(t).map(function(e){return n(e)+" = "+n(t[e])}).join("&")),function(e){return o||(o=document.createElement("a")),o.href=e+"?"+r,o.href}(e)}},{key:"generateExitLink",value:function(){var e=document.getElementById("course-container").getAttribute("data-exit-page"),t={course:this.props.courseName};return"undefined"!=typeof token&&"name"in token&&"value"in token&&(t.tokenName=token.name,t.tokenValue=token.value),Object(T.a)(),this.generateLink(e,t)}},{key:"goToCertificateScreen",value:function(){var e=this.generateExitLink();window.location=e}},{key:"isCorrectFilter",value:function(e){return!0===e.correct}},{key:"getCorrectAnswers",value:function(e){return Object(u.a)(e,"choices").filter(this.isCorrectFilter)}},{key:"scoreQuiz",value:function(){var e=this,t=this.props,n=t.questions,r=t.userAnswers,o=this.getCorrectAnswers(n),i=[];return r.forEach(function(t){e.showCorrectIndicator(t.questionId,"incorrect"),o.forEach(function(n){n.id===t.choiceId&&(e.showCorrectIndicator(t.questionId,"correct"),i.push(t))})}),this.setState({numIncorrect:r.length-i.length}),i}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props,n=t.questions,r=t.numAttempts,o=t.incrementNumAttempts;this.isAllAnswered()?this.scoreQuiz().length===n.length?this.goToCertificateScreen():r===this.maxAttempts-1?this.toggleModal():(this.updateStatusNotification(),o()):this.toggleNotification()}},{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"closeModal",value:function(){var e=this.props,t=e.resetQuiz,n=e.lessons;t(),c.hashHistory.push("/lesson/"+n[0].slug)}},{key:"handleNotification",value:function(){this.setState({isNotificationActive:!1})}},{key:"render",value:function(){var e=this.props,t=e.language,n=e.questions,r=e.numAttempts,i=t.quizAgree,a=t.quizCert,s=t.quizBtn,u=t.quizWrong,c=t.quizAttemptsRemain,l=t.quizAttempts,f=t.quizAnswer,p=t.quizDismiss,d=t.noMoreAttempts,m=this.state,h=m.incorrectClassname,g=m.numIncorrect,y=m.attemptsClassname,b=m.isNotificationActive,v=m.isModalOpen;return o.a.createElement("div",null,o.a.createElement("form",{id:"formQuiz",onSubmit:this.handleSubmit},o.a.createElement("div",{className:"quiz-agrmt"},i," ",o.a.createElement("span",{className:"quiz-required"},"*")),o.a.createElement("label",{htmlFor:"certify"},o.a.createElement("input",{id:"certify",type:"checkbox",name:"certify"}),a),o.a.createElement(C,{questions:n}),o.a.createElement(S,{value:s}),o.a.createElement("span",{className:h},g," ",u," ")),o.a.createElement("div",{className:y},c,": ",this.maxAttempts-r," - ",l),b&&o.a.createElement(P,{isActive:b,message:f,action:p,onDismiss:this.toggleNotification,dismissAfter:3500,onClick:this.handleNotification}),v&&o.a.createElement(M,{show:v,onClose:this.closeModal,language:t},d))}}]),t}();Q.propTypes={};var L=Q,R=(s.a.array,s.a.func,s.a.number,s.a.string,function(e){return o.a.createElement(L,e)});R.propTypes={};var U=Object(i.connect)(function(e){var t=e.quiz,n=e.app,r=t.userAnswers,o=t.numAttempts,i=n.data,a=i.title,s=i.lessons;return{userAnswers:r,numAttempts:o,courseName:a,lessons:s,questions:Object(u.a)(s,"quiz")}},function(e){return{incrementNumAttempts:function(){e({type:p.a})},resetQuiz:function(){e({type:p.b,payload:{userAnswers:[],numAttempts:0}})}}})(R),F=(n(88),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());s.a.array,s.a.string,s.a.object;var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),F(t,[{key:"componentDidMount",value:function(){window.scroll(0,0)}},{key:"render",value:function(){var e=this.props,t=e.lessons,n=e.language,r=e.questions,i=e.courseName,a=n.quizQuestions,s=n.quizAttempts;return o.a.createElement("div",null,o.a.createElement(f,{lessons:t,language:n}),o.a.createElement("h3",{className:"quiz-instructions"},a),o.a.createElement("p",{className:"quiz-msg"},s),o.a.createElement(U,{questions:r,courseName:i,language:n}))}}]),t}();D.propTypes={};var B=D,J=(s.a.array,s.a.string,function(e){return o.a.createElement(B,e)});J.propTypes={};t.default=Object(i.connect)(function(e){var t=e.app,n=e.language,r=t.data,o=r.title,i=r.lessons;return{courseName:o,lessons:i,questions:Object(u.a)(i,"quiz"),language:n}})(J)},64:function(e,t,n){"use strict";n.r(t);var r=n(7),o={userAnswers:[],numAttempts:0},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.c:return Object.assign({},e,{userAnswers:function(e,t){var n,r,o=e.userAnswers,i=t.userAnswers[0],a=void 0;return o.length>0&&(n=o,a=(r=function(){return e=o,t="questionId",n=i.questionId,e.map(function(e){return e[t]===n}).indexOf(!0);var e,t,n})?("function"==typeof r&&(r=r()),-1!==r?function(e,t){return e.slice(0,t).concat(e.slice(t+1))}(n,r):n):n),a?a.concat(i):o.concat(i)}(e,t.payload)});case r.a:return Object.assign({},e,{numAttempts:e.numAttempts+1});case r.b:return Object.assign({},e,t.payload)}return e},a=n(42);n.d(t,"quizReducer",function(){return i}),n.d(t,"QuizContainer",function(){return a.default})},7:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r="SET_USER_ANSWER",o="INCREMENT_NUM_ATTEMPTS",i="RESET_QUIZ"},87:function(e,t,n){(e.exports=n(19)()).push([e.i,'.show{display:block}.hide{display:none}.quiz-question{margin-bottom:2em}.quiz-question ul{padding-left:.8em;margin-bottom:1.2em}.quiz-question li{list-style:none}.quiz-questions{margin-top:1.2em;padding-top:1.2em;padding-left:1em;border-top:1px solid #ddd}.quiz-question-text{margin-bottom:.5em}.quiz-question-text>p{display:inline}.quiz-instructions{padding-top:.8em;margin-bottom:0;border-top:1px solid #ddd}.quiz-msg{margin-top:5px}.quiz-hide{visibility:hidden}.quiz-show{visibility:visible}.quiz-incorrect{display:inline-block;margin-left:1em;color:#ba1e2c}.quiz-attempts{margin-top:1em;color:#000;font-weight:700;background:#ffc;padding:1em}.quiz-agrmt{font-weight:700;margin-bottom:.3em}.quiz-lessons{margin-top:1em;margin-bottom:.5em}.quiz-lessons-list{padding-left:1em}.quiz-lessons-list li{list-style:none}.quiz-button{width:10em}.quiz-required{color:red}.quiz-notifier{background-color:#2f78ab;color:#fff}#formQuiz input[type=checkbox],#formQuiz input[type=radio]{margin-right:.7em}#formQuiz input[type=submit]{width:15em;background-color:#c40837;color:#fff}#formQuiz input[type=submit]:disabled{background:#ddd;color:#aaa}.correct:after{content:"\\2713";color:#00e500}.correct:after,.incorrect:after{margin-left:.3em;font-size:1.3em}.incorrect:after{content:"\\2718";color:red}',""])},88:function(e,t,n){var r=n(87);"string"==typeof r&&(r=[[e.i,r,""]]);n(18)(r,{});r.locals&&(e.exports=r.locals)}}]);
//# sourceMappingURL=app~lesson~quiz.bundle.js.map